{"ast":null,"code":"import _defineProperty from \"/Users/katerinaroskovcova/Desktop/MyProjects/PPCBee/PPCBee/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/katerinaroskovcova/Desktop/MyProjects/PPCBee/PPCBee/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/katerinaroskovcova/Desktop/MyProjects/PPCBee/PPCBee/src/components/table.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext } from \"react\";\nimport { TableContext } from '../model/context';\nimport Settings from \"./settings\";\nimport Model from \"../model/model\";\n\nvar Table = function Table() {\n  var _useState = useState(Model()),\n      _useState2 = _slicedToArray(_useState, 2),\n      model = _useState2[0],\n      setModel = _useState2[1];\n\n  var _useContext = useContext(TableContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      columns = _useContext2[0],\n      setColumns = _useContext2[1];\n\n  var _useState3 = useState({\n    isShown: false\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      popup = _useState4[0],\n      setPopup = _useState4[1];\n\n  var _useState5 = useState({\n    value: \"\"\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      prevData = _useState6[0],\n      setPrevData = _useState6[1];\n\n  var _useState7 = useState({\n    value: \"\"\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      tableData = _useState8[0],\n      setTableData = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      index = _useState10[0],\n      setIndex = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      itemKey = _useState12[0],\n      setItemKey = _useState12[1];\n\n  function getKeyByValue(object, value) {\n    for (var prop in object) {\n      if (object.hasOwnProperty(prop)) {\n        if (object[prop] === value) return prop;\n      }\n    }\n  }\n\n  var togglePopup = function togglePopup(e) {\n    var table = model;\n    var clickedValue = e.target.innerText;\n    var clickedObj = table.filter(function (obj) {\n      return getKeyByValue(obj, clickedValue);\n    });\n    var key = clickedObj.map(function (item) {\n      return getKeyByValue(item, clickedValue);\n    });\n    var indexValue = table.indexOf(function (o) {\n      return o[key] === clickedValue;\n    });\n    console.log(indexValue);\n    setItemKey(key);\n    setIndex(indexValue);\n    setPopup(_objectSpread({}, popup, {\n      isShown: !popup.isShown\n    }));\n    setTableData({\n      value: e.target.innerText\n    });\n    setPrevData({\n      value: e.target.innerText\n    });\n  };\n\n  var handleChange = function handleChange(ev) {\n    setTableData(_objectSpread({}, tableData, {\n      value: ev.target.value\n    }));\n  };\n\n  var handleUpdate = function handleUpdate() {\n    var table = model;\n\n    var newModel = function newModel() {\n      return table[index].itemKey = tableData.value;\n    };\n\n    setPopup(_objectSpread({}, popup, {\n      isShown: !popup.isShown\n    }));\n    setModel(model);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, columns.map(function (column) {\n    return column.checked ? React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, column.name) : null;\n  })), model.map(function (data) {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, columns.map(function (key) {\n      return key.checked ? React.createElement(\"td\", {\n        onClick: togglePopup,\n        className: \"table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, data[key.name], \" \") : null;\n    }));\n  })), React.createElement(Settings, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), popup.isShown ? React.createElement(\"div\", {\n    className: \"popup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"popup_inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"edit_input\",\n    onChange: handleChange,\n    type: \"text\",\n    defaultValue: tableData.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: handleUpdate,\n    className: \"edit_save\",\n    value: \"Save\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Save\"))) : null);\n};\n\nexport default Table;","map":{"version":3,"sources":["/Users/katerinaroskovcova/Desktop/MyProjects/PPCBee/PPCBee/src/components/table.js"],"names":["React","useState","useContext","TableContext","Settings","Model","Table","model","setModel","columns","setColumns","isShown","popup","setPopup","value","prevData","setPrevData","tableData","setTableData","index","setIndex","itemKey","setItemKey","getKeyByValue","object","prop","hasOwnProperty","togglePopup","e","table","clickedValue","target","innerText","clickedObj","filter","obj","key","map","item","indexValue","indexOf","o","console","log","handleChange","ev","handleUpdate","newModel","column","checked","name","data"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAAQC,YAAR,QAA2B,kBAA3B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAKA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA,kBACUL,QAAQ,CAAEI,KAAK,EAAP,CADlB;AAAA;AAAA,MACTE,KADS;AAAA,MACFC,QADE;;AAAA,oBAEcN,UAAU,CAACC,YAAD,CAFxB;AAAA;AAAA,MAETM,OAFS;AAAA,MAEAC,UAFA;;AAAA,mBAGUT,QAAQ,CAAC;AAACU,IAAAA,OAAO,EAAC;AAAT,GAAD,CAHlB;AAAA;AAAA,MAGTC,KAHS;AAAA,MAGFC,QAHE;;AAAA,mBAIgBZ,QAAQ,CAAC;AAACa,IAAAA,KAAK,EAAC;AAAP,GAAD,CAJxB;AAAA;AAAA,MAITC,QAJS;AAAA,MAICC,WAJD;;AAAA,mBAKkBf,QAAQ,CAAC;AAACa,IAAAA,KAAK,EAAC;AAAP,GAAD,CAL1B;AAAA;AAAA,MAKTG,SALS;AAAA,MAKEC,YALF;;AAAA,mBAMUjB,QAAQ,CAAC,EAAD,CANlB;AAAA;AAAA,MAMTkB,KANS;AAAA,MAMFC,QANE;;AAAA,oBAOcnB,QAAQ,CAAC,EAAD,CAPtB;AAAA;AAAA,MAOToB,OAPS;AAAA,MAOAC,UAPA;;AAQhB,WAASC,aAAT,CAAwBC,MAAxB,EAAgCV,KAAhC,EAAuC;AACnC,SAAK,IAAIW,IAAT,IAAiBD,MAAjB,EAAyB;AACrB,UAAIA,MAAM,CAACE,cAAP,CAAsBD,IAAtB,CAAJ,EAAiC;AAC7B,YAAID,MAAM,CAACC,IAAD,CAAN,KAAiBX,KAArB,EACA,OAAOW,IAAP;AACH;AACJ;AACJ;;AAED,MAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAK;AACtB,QAAIC,KAAK,GAAGtB,KAAZ;AACD,QAAIuB,YAAY,GAAGF,CAAC,CAACG,MAAF,CAASC,SAA5B;AACA,QAAIC,UAAU,GAAGJ,KAAK,CAACK,MAAN,CAAa,UAAAC,GAAG;AAAA,aAAIZ,aAAa,CAACY,GAAD,EAAML,YAAN,CAAjB;AAAA,KAAhB,CAAjB;AACA,QAAIM,GAAG,GAAGH,UAAU,CAACI,GAAX,CAAe,UAAAC,IAAI;AAAA,aAAIf,aAAa,CAACe,IAAD,EAAOR,YAAP,CAAjB;AAAA,KAAnB,CAAV;AACA,QAAIS,UAAU,GAAGV,KAAK,CAACW,OAAN,CAAc,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACL,GAAD,CAAD,KAAWN,YAAf;AAAA,KAAf,CAAjB;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACAjB,IAAAA,UAAU,CAACc,GAAD,CAAV;AACAhB,IAAAA,QAAQ,CAACmB,UAAD,CAAR;AACA1B,IAAAA,QAAQ,mBAAKD,KAAL;AAAYD,MAAAA,OAAO,EAAC,CAACC,KAAK,CAACD;AAA3B,OAAR;AACAO,IAAAA,YAAY,CAAC;AAACJ,MAAAA,KAAK,EAACc,CAAC,CAACG,MAAF,CAASC;AAAhB,KAAD,CAAZ;AACAhB,IAAAA,WAAW,CAAC;AAACF,MAAAA,KAAK,EAACc,CAAC,CAACG,MAAF,CAASC;AAAhB,KAAD,CAAX;AACD,GAZD;;AAcA,MAAMY,YAAY,GAAG,SAAfA,YAAe,CAACC,EAAD,EAAM;AAC1B3B,IAAAA,YAAY,mBAAKD,SAAL;AAAgBH,MAAAA,KAAK,EAAC+B,EAAE,CAACd,MAAH,CAAUjB;AAAhC,OAAZ;AACJ,GAFG;;AAGA,MAAMgC,YAAY,GAAG,SAAfA,YAAe,GAAI;AACrB,QAAIjB,KAAK,GAAGtB,KAAZ;;AACA,QAAIwC,QAAQ,GAAG,SAAXA,QAAW;AAAA,aAAOlB,KAAK,CAACV,KAAD,CAAL,CAAaE,OAAb,GAAuBJ,SAAS,CAACH,KAAxC;AAAA,KAAf;;AACAD,IAAAA,QAAQ,mBAAKD,KAAL;AAAYD,MAAAA,OAAO,EAAC,CAACC,KAAK,CAACD;AAA3B,OAAR;AACAH,IAAAA,QAAQ,CAACD,KAAD,CAAR;AAEH,GAND;;AAQA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,OAAO,CAAC4B,GAAR,CAAY,UAAAW,MAAM,EAAG;AACrB,WAAOA,MAAM,CAACC,OAAP,GAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,MAAM,CAACE,IAAZ,CAAjB,GAA0C,IAAjD;AACD,GAFC,CADH,CADJ,EAOK3C,KAAK,CAAC8B,GAAN,CAAU,UAAAc,IAAI;AAAA,WAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK1C,OAAO,CAAC4B,GAAR,CAAY,UAAAD,GAAG,EAAI;AAAC,aAAOA,GAAG,CAACa,OAAJ,GAAc;AAAI,QAAA,OAAO,EAAEtB,WAAb;AAA0B,QAAA,SAAS,EAAC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkDwB,IAAI,CAACf,GAAG,CAACc,IAAL,CAAtD,MAAd,GAAuF,IAA9F;AAAmG,KAAvH,CAAL,CAAJ;AAAA,GAAd,CAPL,CADJ,EAYK,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZL,EAaMtC,KAAK,CAACD,OAAN,GACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,SAAS,EAAE,YAAlB;AAA+B,IAAA,QAAQ,EAAEiC,YAAzC;AAAuD,IAAA,IAAI,EAAC,MAA5D;AAAmE,IAAA,YAAY,EAAE3B,SAAS,CAACH,KAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAQ,IAAA,OAAO,EAAEgC,YAAjB;AAA+B,IAAA,SAAS,EAAE,WAA1C;AAAsD,IAAA,KAAK,EAAC,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CADA,CADF,GAQF,IArBJ,CADJ;AA0BH,CApED;;AAsEA,eAAexC,KAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport {TableContext} from '../model/context';\nimport Settings from \"./settings\";\nimport Model from \"../model/model\"\n\n\n\n\nconst Table = () => {\n    const [model, setModel] = useState (Model());\n    const [columns, setColumns] = useContext(TableContext);\n    const [popup, setPopup] = useState({isShown:false});\n    const [prevData, setPrevData] = useState({value:\"\"});\n    const [tableData, setTableData] = useState({value:\"\"});\n    const [index, setIndex] = useState(\"\");\n    const [itemKey, setItemKey] = useState(\"\");\n    function getKeyByValue (object, value) { \n        for (var prop in object) { \n            if (object.hasOwnProperty(prop)) { \n                if (object[prop] === value) \n                return prop; \n            } \n        } \n    } \n    \n    const togglePopup = (e)=>{ \n       let table = model;\n      let clickedValue = e.target.innerText;\n      let clickedObj = table.filter(obj => getKeyByValue(obj, clickedValue));\n      let key = clickedObj.map(item => getKeyByValue(item, clickedValue));\n      let indexValue = table.indexOf(o => o[key] === clickedValue);\n      console.log(indexValue);\n      setItemKey(key);\n      setIndex(indexValue);\n      setPopup({...popup, isShown:!popup.isShown});\n      setTableData({value:e.target.innerText});\n      setPrevData({value:e.target.innerText});\n    }\n\n    const handleChange = (ev)=>{\n     setTableData({...tableData, value:ev.target.value})\n}\n    const handleUpdate = ()=>{\n        let table = model;\n        let newModel = () => (table[index].itemKey = tableData.value);\n        setPopup({...popup, isShown:!popup.isShown});\n        setModel(model);\n\n    }\n\n    return (\n        <div>\n            <table className=\"table\">\n                <tr>\n                  {columns.map(column =>{\n                   return column.checked ? <th>{column.name}</th> : null\n                 })} \n                </tr>\n\n                {model.map(data => <tr>{columns.map(key => {return key.checked ? <td onClick={togglePopup} className=\"table_data\">{data[key.name]} </td> :null})}</tr>\n                    \n                )}\n             </table>\n             <Settings />\n             {popup.isShown ? \n                <div className='popup'>\n                <div className='popup_inner'>\n                    <input className= \"edit_input\" onChange={handleChange} type=\"text\" defaultValue={tableData.value} />\n                    <button onClick={handleUpdate} className= \"edit_save\" value=\"Save\">Save</button>\n                </div>\n              </div>\n        \n          : null\n        }\n        </div>\n    )\n}\n\nexport default Table"]},"metadata":{},"sourceType":"module"}